# Требования к качеству программного обеспечения

- FlowNode

  - При запуске на исполнение

    1. Нода должна содержать инструкцию на исполнение, иначе - ошибка.
    2. Нода должна поддерживать возможность исполнения синхронной и асинхронной операции.

  - При инициализации

    1. Корневая нода не должна иметь родительских нод, иначе - нода не валидна.
    2. Нода не должна иметь двух дочерних нод с одинаковыми ключами, иначе - нода не валидна.
    3. Нода не должна иметь циклических ссылок на саму себя (быть родителем n-го порядка для самой.себя), иначе - нода не валидна
    4. Связи между каждыми двумя нодами должны быть одинарными
    5. Нода должна идентифицироваться уникальным строковым ключом
    6. Нода должна содержать отчет о всех ошибках, полученных при инициализации
    7. Сравнение эквивалентности должно быть реализовано через ReferenceEquals

- FlowMap

  - При запуске на исполнение

    1. Карта потока используется только для описания связей между нодами потока и не используется в момент запуска потока на исполнение.
    2. Не должно быть возможности изменять карту потока вне конструктора контекста потока.

  - При инициализации

    1. Карта потока должна содержать единственную корневую ноду.
    2. Все ноды карты потока должны быть валидными.
    3. Карта потока должна предоставлять доступ к любой ноде потока.
    4. Карта потока должна содержать отчет о всех ошибках, полученных при инициализации
    5. Сравнение эквивалентности должно быть реализовано через ReferenceEquals

- FlowContext

  - При запуске на исполнение

    1. Контекст должен предоставить возможность задавать порядок выполнения операций.
    2. Контекст должен предоставлять информацию о процессе исполнения
        - Предыдущая нода
        - Текущая нода
        - Следующая нода
        - Завершенные ноды
    3. Во время асинхронного выполнения ноды, контекст должен быть заблокирован для других потоков, за исключением дочерних.
    4. Контекст должен реализовывать интерфейс System.IDisposable

  - При инициализации

    1. Карта потока должна быть валидной, иначе - ошибка.
    2. По умолчанию на исполнение назначается корневая нода

- Flow

  - При запуске на исполнение

    1. Поток должен предоставлять возможность задавать порядок выполнения операций.
    2. Поток должен предоставлять возможность назначить действие на ноду
    3. Поток должен предоставлять возможность запускать поток на исполнение.

  - При инициализации

    1. Карта потока должна быть валидной, иначе - ошибка.
    2. По умолчанию на исполнение назначается корневая нода.
    3. Поток должен реализовывать интерфейс System.IDisposable.